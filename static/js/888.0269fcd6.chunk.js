"use strict";(self.webpackChunksamurai_sn=self.webpackChunksamurai_sn||[]).push([[888],{4888:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var r=s(8683),n=s(5671),o=s(3144),a=s(136),i=s(2882),c=s(2791),u={},p="ProfileInfo_ava__KV6bl",l="ProfileInfo_profileImg__fxpQh",f="ProfileInfo_userAva__rzMV3",d="ProfileInfo_job__sI1AP",h=s(3205),m=s(8108),j=s(885),x=s(184),v=function(t){var e=(0,c.useState)(!1),s=(0,j.Z)(e,2),r=s[0],n=s[1],o=(0,c.useState)(t.status),a=(0,j.Z)(o,2),i=a[0],u=a[1];(0,c.useEffect)((function(){u(t.status)}),[t.status]);return(0,x.jsxs)("div",{children:[!r&&(0,x.jsx)("div",{children:(0,x.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"No status"})}),r&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{autoFocus:!0,onBlur:function(e){e.preventDefault(),n(!1),t.updateStatus(i)},type:"text",value:i,onChange:function(t){u(t.currentTarget.value)}})})]})},g=function(t){var e=t.profile,s=t.status,r=t.updateStatus;return e?(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("h3",{children:e.fullName}),(0,x.jsx)("img",{src:e.photos.small?e.photos.small:m,alt:"",className:f}),(0,x.jsx)(v,{status:s,updateStatus:r}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h4",{children:["About me: ",e.aboutMe]}),(0,x.jsx)("h4",{children:"Contacts"}),(0,x.jsxs)("p",{children:["facebook: ",(0,x.jsx)("a",{href:e.contacts.facebook,children:e.contacts.facebook})]}),(0,x.jsxs)("p",{children:["vk: ",(0,x.jsx)("a",{href:e.contacts.vk,children:e.contacts.vk})]}),(0,x.jsxs)("p",{children:["twitter: ",(0,x.jsx)("a",{href:e.contacts.twitter,children:e.contacts.twitter})]}),(0,x.jsxs)("p",{children:["instagram: ",(0,x.jsx)("a",{href:e.contacts.instagram,children:e.contacts.instagram})]})]}),(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)("h4",{children:"looking for a job:"}),e.contacts.lookingForAJob?(0,x.jsx)("img",{className:l,src:"https://freepngimg.com/thumb/green_tick/27890-7-green-tick-picture.png",alt:""}):(0,x.jsx)("img",{className:l,src:"https://freepngimg.com/thumb/red_cross/28028-5-red-cross-clipart.png",alt:""})]})]})}):(0,x.jsx)(h.Z,{})},y=s(81),b="MyPosts_postsBlock__-frYb",_="MyPosts_posts__S8SkN",P="Post_item__I7NO5",k="Post_likes__+MCcW",Z=function(t){return(0,x.jsxs)("div",{className:P,children:[(0,x.jsx)("img",{src:"https://s2.afisha.ru/mediastorage/f8/40/44c361537e354921a5a5266240f8.jpg",alt:"user ava"}),t.message,(0,x.jsx)("div",{className:k,children:(0,x.jsxs)("button",{children:[t.likeCount," likes"]})})]})},N=s(6139),S=s(704),C=s(3079),O=s(6720),w=(0,C.D)(10),A=(0,S.Z)({form:"addPostsForm"})((function(t){return(0,x.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)(N.Z,{component:O.gx,name:"post",type:"text",placeholder:"post message",validate:[C.l,w]})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add new post"})})]})})),I=c.memo((function(t){console.log("REACT");var e=t.posts.map((function(t){return(0,x.jsx)(Z,{message:t.message,likeCount:t.likeCount,id:t.id})}));return(0,x.jsxs)("div",{className:b,children:[(0,x.jsx)("h3",{children:"My posts"}),(0,x.jsx)("div",{children:(0,x.jsx)(A,{onSubmit:function(e){console.log(e.post),t.addPost(e.post)}})}),(0,x.jsx)("div",{className:_,children:e})]})})),D=s(8687),M=(0,D.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){return t((0,y.Wl)(e))}}}))(I),R=function(t){return(0,x.jsxs)("div",{className:u.profile,children:[(0,x.jsx)(g,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,x.jsx)(M,{})]})},T=s(2007),E=s.n(T),F=s(3688),z=s.n(F),U=s(8551),W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t};var $=function(t){var e=function(e){var s=e.wrappedComponentRef,r=function(t,e){var s={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r]);return s}(e,["wrappedComponentRef"]);return c.createElement(U.Z,{children:function(e){return c.createElement(t,W({},r,e,{ref:s}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:E().func},z()(e,t)},B=s(3019),V=s(9866),Y=function(t){return t.profilePage.profile},J=function(t){return t.profilePage.status},K=s(7437),Q=function(t){(0,a.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return this.props.isAuth?(0,x.jsx)(R,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})):(0,x.jsx)(B.Z,{to:"login"})}}]),s}(c.Component),q=$((0,V.Z)(Q)),G=(0,D.$j)((function(t){return{profile:Y(t),status:J(t),isAuth:(0,K.yx)(t),autorizedUserId:(0,K.UY)(t)}}),{getProfile:y.Ai,getStatus:y.lR,updateStatus:y.Nf})(q)},9866:function(t,e,s){var r=s(8683),n=s(5671),o=s(3144),a=s(136),i=s(2882),c=s(2791),u=s(3019),p=s(8687),l=s(184),f=function(t){return{isAuth:t.auth.isAuth}};e.Z=function(t){var e=function(e){(0,a.Z)(c,e);var s=(0,i.Z)(c);function c(){return(0,n.Z)(this,c),s.apply(this,arguments)}return(0,o.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(t,(0,r.Z)({},this.props)):(0,l.jsx)(u.Z,{to:"login"})}}]),c}(c.Component);return(0,p.$j)(f)(e)}},3688:function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,n=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,i=Object.getPrototypeOf,c=i&&i(Object);t.exports=function t(u,p,l){if("string"!==typeof p){if(c){var f=i(p);f&&f!==c&&t(u,f,l)}var d=n(p);o&&(d=d.concat(o(p)));for(var h=0;h<d.length;++h){var m=d[h];if(!e[m]&&!s[m]&&(!l||!l[m])){var j=a(p,m);try{r(u,m,j)}catch(x){}}}return u}return u}}}]);
//# sourceMappingURL=888.0269fcd6.chunk.js.map